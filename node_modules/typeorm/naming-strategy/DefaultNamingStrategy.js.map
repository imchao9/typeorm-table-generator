{"version":3,"sources":["../../src/naming-strategy/DefaultNamingStrategy.ts"],"names":[],"mappings":"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","file":"DefaultNamingStrategy.js","sourcesContent":["import {NamingStrategyInterface} from \"./NamingStrategyInterface\";\nimport {RandomGenerator} from \"../util/RandomGenerator\";\nimport {snakeCase, camelCase} from \"../util/StringUtils\";\n\n/**\n * Naming strategy that is used by default.\n */\nexport class DefaultNamingStrategy implements NamingStrategyInterface {\n\n    tableName(className: string, customName: string): string {\n        return customName ? customName : snakeCase(className);\n    }\n\n    columnName(propertyName: string, customName: string): string {\n        return customName ? customName : propertyName;\n    }\n\n    embeddedColumnName(embeddedPropertyName: string, columnPropertyName: string, columnCustomName?: string): string {\n        return camelCase(embeddedPropertyName + \"_\" + (columnCustomName ? columnCustomName : columnPropertyName));\n    }\n\n    relationName(propertyName: string): string {\n        return propertyName;\n    }\n\n    indexName(customName: string|undefined, tableName: string, columns: string[]): string {\n        if (customName)\n            return customName;\n\n        const key = \"ind_\" + tableName + \"_\" + columns.join(\"_\");\n        return \"ind_\" + RandomGenerator.sha1(key).substr(0, 27);\n    }\n\n    joinColumnInverseSideName(joinColumnName: string, propertyName: string): string {\n        if (joinColumnName)\n            return joinColumnName;\n\n        return propertyName;\n    }\n\n    joinTableName(firstTableName: string,\n                  secondTableName: string,\n                  firstPropertyName: string,\n                  secondPropertyName: string,\n                  firstColumnName: string,\n                  secondColumnName: string): string {\n        return snakeCase(firstTableName + \"_\" + firstPropertyName + \"_\" + secondTableName + \"_\" + secondColumnName);\n    }\n\n    joinTableColumnName(tableName: string, columnName: string, secondTableName: string, secondColumnName: string): string {\n        const column1 = camelCase(tableName + \"_\" + columnName);\n        const column2 = camelCase(secondTableName + \"_\" + secondColumnName);\n        return column1 === column2 ? column1 + \"_1\" : column1; // todo: do we still need _1 prefix?!\n    }\n\n    joinTableInverseColumnName(tableName: string, columnName: string, secondTableName: string, secondColumnName: string): string {\n        const column1 = camelCase(tableName + \"_\" + columnName);\n        const column2 = camelCase(secondTableName + \"_\" + secondColumnName);\n        return column1 === column2 ? column1 + \"_2\" : column1; // todo: do we still need _2 prefix?!\n    }\n\n    closureJunctionTableName(tableName: string): string {\n        return tableName + \"_closure\";\n    }\n\n    foreignKeyName(tableName: string, columnNames: string[], referencedTableName: string, referencedColumnNames: string[]): string {\n        const key = `${tableName}_${columnNames.join(\"_\")}_${referencedTableName}_${referencedColumnNames.join(\"_\")}`;\n        return \"fk_\" + RandomGenerator.sha1(key).substr(0, 27); // todo: use crypto instead?\n    }\n\n    classTableInheritanceParentColumnName(parentTableName: any, parentTableIdPropertyName: any): string {\n        return camelCase(parentTableName + \"_\" + parentTableIdPropertyName);\n    }\n\n    /**\n     * Adds prefix to the table.\n     */\n    prefixTableName(prefix: string, originalTableName: string): string {\n        return prefix + originalTableName;\n    }\n\n}\n"],"sourceRoot":".."}